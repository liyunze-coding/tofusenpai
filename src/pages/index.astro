---
import Layout from "../layouts/Layout.astro";
import HomeCards from "../components/HomeCards.astro";
import MobileViewCards from "../components/MobileViewCards.astro";
import { Image } from "astro:assets";
import WilliamYao from "./_images/williamyao copy.webp";
---

<Layout
	title=`WILLIAM "ZY" YAO`
	showLogo={false}
	description="William is a New York-based filmmaker, a dancer and a creative technologist."
>
	<main
		id="homepage"
		class="container m-auto py-20 px-4 w-[1200px] max-w-[calc(100%-2rem)] text-white text-[20px] leading-[1.6]"
	>
		<a
			id="header-logo"
			transition:name="header-logo"
			href="/"
			class="font-bold text-2xl xs:text-3xl md:text-[3rem] tracking-normal font-['futura-pt',serif] pt-4 xs:pt-8 md:pt-3 sticky"
		>
			WILLIAM <br class="xs:hidden" /> "ZY" YAO
		</a>
		<div
			class="flex flex-col lg:flex-row justify-center items-center lg:gap-5 xs:mt-[3rem] mb-10 lg:mb-[10rem]"
		>
			<div class="md:w-[800px] mx-auto mt-10 max-w-full mb-10">
				<p>
					William is a multidisciplinary Director and Creative
					Technologist who seeks for stories rooted in honest
					conversation, evanescent moments of nature, and the search
					for joy and love. His work includes <a
						href="/give-me-love"
						class="intro-link underline-offset-2 relative">Films</a
					>, <a
						href="/daydreamers"
						class="intro-link underline-offset-2 relative"
						>Off-Broadway</a
					>, and large scale <a
						href="/grimes"
						class="intro-link underline-offset-2 relative"
						>Live Productions</a
					>. William loves Wong Kar Wai but secretly binges Taika
					Waititi when his colleagues aren’t around.
				</p>
				<br />
				<p>
					When he’s not crumpling up scripts or fighting AI overlords,
					William is a dancer and a musician, with credits including
					MARVEL, SAMSUNG, and CANNES FILM FESTIVAL XR.
				</p>
			</div>
			<div>
				<Image
					src={WilliamYao}
					alt="WilliamYao"
					width={300}
					class="mr-10"
				/>
			</div>
		</div>
		<MobileViewCards />
		<HomeCards />
	</main>
</Layout>

<style>
	main {
		text-align: center;
		position: relative;
	}

	h1 {
		font-size: 48px;
		font-weight: 400;
		line-height: 1;
		text-align: center;
		margin-bottom: 1em;
	}

	#header-logo {
		z-index: 49;
		top: -1px;
	}

	#header-logo.isSticky {
		z-index: 60;
	}
</style>

<script is:inline>
	document.addEventListener("astro:page-load", () => {
		const stickyElm = document.querySelector("#header-logo");

		const observer = new IntersectionObserver(
			([e]) =>
				e.target.classList.toggle("isSticky", e.intersectionRatio < 1),
			{ threshold: [1] }
		);

		observer.observe(stickyElm);

		const introLinks = document.querySelectorAll(".intro-link");
		introLinks.forEach((introLink) => {
			introLink.style.zIndex = 10;
			introLink.style.textDecorationLine = "underline";
		});
	});
</script>
